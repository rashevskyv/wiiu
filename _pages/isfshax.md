---
title: "Установка ISFShax" #
lang: ru
permalink: /isfshax.html
author_profile: true
---

{% include toc title="Разделы" %}

ISFShax предназначен для эксплуатации уязвимости boot1 с помощью специально созданного суперблока ISFS (файловая система SLC). Это даёт возможность применять патчи до загрузки IOSU, что делает его полезным для того, чтобы обезопасить себя от большинства неисправностей системы. Однако, ISFShax не защитит вас от некоторых специфических проблем, таких как повреждения boot1 или ошибки в установке самого ISFShax

## Конкретные примеры использования:
- [Восстановление или замена внутренней памяти консоли](https://gbatemp.net/threads/how-to-upgrading-rebuilding-wii-u-internal-memory-mlc.636309/){:target="_blank"}
- [Использование карты памяти консоли вместо внутренней памяти](https://gbatemp.net/threads/sdusb-the-modern-way-to-play-wii-u-games-from-sd-at-full-speed.655744/){:target="_blank"}
- [Защита от "кирпичей" перед сменой региона](wiiu-region-change){:target="_blank"}
- Устранение лимита MLC на 64GB и отключение SCFM (защиты системы)
- Холодная загрузка redNAND (полезно, если eMMC повреждён)
- Предоставление минимальной кастомной прошивки (CFW) для запуска старого homebrew
- Отключение включения планшета Wii U при загрузке через плагин stroopwafel

Установка ISFShax возможна через большое количество эксплойтов, однако мы будем рассматривать только Aroma, поскольку именно она ставится в этом руководстве, а сам ISFShax строго опционален

## Установка ISFShax
### Часть I - Подготовительные работы

1. Выключите консоль
1. Вставьте в компьютер SD-карту, отформатированную в [FAT32](https://customfw.xyz/format_sd){:target="_blank"}
1. Скопируйте **содержимое** `.zip-архива` [`isfshax.zip`](/files/isfshax.zip){:target="_blank"} в корень вашей SD-карты
	* Копируйте всё на ту карту, которую используете в приставке и соглашайтесь на замену (объединение)
1. Вставьте SD-карту обратно в консоль
	* Карту нужно вставлять в переднюю панель приставки. Не пытайтесь вставить её через USB-переходник в USB-порт!
	* Вы не увидите никаких сообщений на приставке, после того, как вставите в неё карту. Не ждите, что приставка вам напишет о том, что карта принята, или ещё чего-либо похожего.
1. Включите консоль

### Часть II - Установка ISFShax

При включении приставки должно появится окно загрузчика minute

Для перемещения по меню используется кнопка POWER (кнопка включения консоли) на самой консоли. Длля выбора - кнопка EJECT (кнопка извлечения диска)
{: .notice--info}

1. Выберите **Boot `ios.img`** (6 раз Power, 1 раз Eject)
	* Запустится окно установщика ISFShax. Запуск может занять некоторое время
1. Соглашаясь с написанным, нажмите кнопку **Eject** три раза, тем самым выбрав пункт **Install isfshax**
1. Нажмите кнопку **Power** 1 раз, выбрав пункт **Yes, proceed**, после чего нажмите **Eject** для начала установки 
1. Дважды нажмите **Eject**, чтобы выключить консоль
1. Вставте карту памяти в ПК и **удалите** `fw.img`
1. Переименуйте `fw_default.img` в `fw.img`
1. Верните карту в консоль

### Часть III - Резервное копирование 

1. Включите консоль, должно появится окно загрузчика minute 
1. Перейдите в **Backup and Restore** (9 раз Power, 1 раз Eject)
1. Выберите **Dump SEEPROM & OTP** (1 раз Eject)
1. Нажмите POWER по окончанию дампа
1. Выберите **Dump SLC.RAW** (3 раза Power, 1 раз Eject)
1. Нажмите POWER по окончанию дампа
1. Нажмите и удерживайте кнопку POWER до полного выключения консоли 

### Часть IV - Первый запуск Aroma и настройка автозапуска через ISFShax

1. Вставьте карту памяти в ПК 
1. Из папки `aroma` в корне карты памяти, перенесите папку `wiiu` в **корень карты** памяти. Согласитесь з заменой (объединением) файлов
1. Вставьте карту памяти в консоль и включите её
	* Должен запуститься загрузчик minute 
1. Выберите пункт `Patch (sd) and boot IOS (slc)` (2 раза Power, 1 раз Eject)
	* Должно загрузится главное меню Wii U с установленной Aroma 
	* Если у вас бутлуп и приставка по кругу загружает картинку Меню Wii U, то вы пропустили пункт 2 текущей части инструкции. Вернитесь к нему и пробуйте снова! 
1. Запустите приложение **haxcopy** (![](/images/apps/haxcopy.png){:width="60px"}), которое должно появиться на экране
1. Нажмите {% include inc/btn.md btn="A" %} для выбора пункта **Copy hax folder to SLC** и {% include inc/btn.md btn="A" %} для начала копирования
1. После окончания закройте приложение кнопкой {% include inc/btn.md btn="HOME" %}
1. Запустите **Payload-Loader Installer** (![](/images/apps/payload-loader.png){:width="60px"})
1. Выберите **Check** -> **Boot options**
1. Выберите **Switch back to Wii U Menu**
1. Нажмите {% include inc/btn.md btn="A" %}, чтобы выключить консоль

Теперь ваша приставка будет автоматически запускать Aroma через ISFShax, что даёт консоли дополнительный слой защиты. Эксплойт будет загружаться из внутренней памяти консоли, потому приставка будет стартовать и без карты памяти, однако только в официальную прошивку, поскольку в консоли стоит Aroma, файлы которой расположены на карте памяти.
{: .notice--info}

В случае, если ваша консоль не запускается и вам нужно попасть в загрузчик minute, убедитесь, что на карте памяти в корне лежит `fw.img` из архива [`isfshax.zip`](https://github.com/rashevskyv/wiiu/releases/latest){:target="_blank"}, вставьте карту памяти в выключенную консоль и быстро клацайте кнопку POWER, пока не увидите экран minute 
{: .notice--warning}

Вы можете удалить следующие файлы с карты памяти, если они есть: 
* `fw_default.img`
* `ios.img`
* `superblock.img`, `superblock.img.sha`
* `wafel_setup_mlc.log`
* `sys_prod.xml`
* папки `aroma`, `hax` 

Следующие файлы переместите к вашему бекапу, который делали раньше: 
* `otp.bin`
* `seeprom.bin`, `seeprom_decrypted.bin`
* `SLC.RAW`

Обратите внимание, что файл `SLC.RAW` в данный момент является актуальным бекапом SLC и именно его следует использовать в случае необходимости восстановить SLC 
{: .notice--warning}

## Использование SD карты вместо внутренней памяти консоли  

На Windows вам потребуется сторонний инструмент, например, Minitool Partition Wizard или Easeus. В Linux можно использовать gparted. Процесс будет отличаться от программы к программе, потому ниже лишь общие рекомендации
{: .notice--info}

## Требования
- Вам нужно создать два основных раздела на карте:
    1. **FAT32** - (в gparted установить флаг lba). Это раздел, который видит ПК, и туда вы размещаете все homebrew. Размер раздела выбирайте с учетом того, что вы, вероятно, будете устанавливать с него игры на карту памяти. Я бы рекомендовал не делать его меньше 20Гб
    2. **NTFS** - Этот раздел будет использоваться как "USB" для хранения игр Wii U (не присваивайте букву диска)
- Не экономте на карте памяти. Рекомендуется использовать карты повышенной выносливости (endurance)

## Процесс
- Уменьшите существующий раздел FAT32, чтобы освободить место, и затем создайте основной NTFS-раздел после него. 
- NTFS не будет файловой системой, которую будет использовать Wii U; она там только для того, чтобы SDUSB знал, какой раздел выбрать (он выберет первый NTFS-раздел). Впоследствии Wii U отформатирует этот раздел своей собственной файловой системой

После того, как Вы разметите карту памяти, просто вставьте её в консоль и включите приставку. Wii U должна обнаружить раздел на карте памяти и предложить отформатировать его в свой формат (если этого не произошло, отформатируйте самостоятельно через настроки консоли). По окончанию форматирования консоль будет воспринимать раздел карты памяти как внутреннюю память и позволит устанавливать туда игры. 

___

[Закрыть страницу](javascript:window.close();)
{: .notice--success}